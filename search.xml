<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>利用Cloudflare Workers路由为AlistV3实现反代加速OneDrive下载</title>
    <url>/2023/01/10/15-32-14/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>总所周知OneDrive在国内的直连下载速度有待提高。就我而言，由于我个人是做一站式ROM资源站的，由AlistV3搭建起来资源站并挂载OneDrive网盘（因为国内网盘内存小，大内存需要收费），对下载速度也有一定要求，毕竟一个ROM从1G到4G不等，前几天在Cloudflare和AlistV2文档里找到了可以通过Cloudflare Workers路由实现中转的教程，但是存在一些问题，所以写下这篇，供大家参考。</p>
<h1 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h1><h2 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h2><p>首先你需要一个Cloudflare账号和一个挂载好OneDrive的AlistV3网盘。Cloudflare和AlistV3的官方文档如下，可以参考如何安装和挂载：<br>Cloudflare注册网址：<a href="https://dash.cloudflare.com/login">点击访问</a><br>AlistV3文档地址：<a href="https://alist.nn.ci/">点击访问</a></p>
<h2 id="获取AlistV3的token"><a href="#获取AlistV3的token" class="headerlink" title="获取AlistV3的token"></a>获取AlistV3的token</h2><p>从这一步开始，就和Alist V2的官方文档就对不上了，和众多教程里获取Alist的token方式也不一样，AlistV3所谓的token不是官方所提供的方法里的，而是放在了后台管理里面的设置-其他选项卡里面<br><img src="/2023/01/10/15-32-14/1.png"><br>点击上面的复制令牌，该令牌就是我们所需要的“token” </p>
<h1 id="搭建Cloudflare-Workers"><a href="#搭建Cloudflare-Workers" class="headerlink" title="搭建Cloudflare Workers"></a>搭建Cloudflare Workers</h1><h2 id="登录Cloudflare"><a href="#登录Cloudflare" class="headerlink" title="登录Cloudflare"></a>登录Cloudflare</h2><p>在左侧选择Workers选项卡<br><img src="/2023/01/10/15-32-14/2.png"></p>
<h2 id="创建服务器"><a href="#创建服务器" class="headerlink" title="创建服务器"></a>创建服务器</h2><p>服务器名称可以自定义<br><img src="/2023/01/10/15-32-14/3.png"></p>
<h2 id="填入Workers代码"><a href="#填入Workers代码" class="headerlink" title="填入Workers代码"></a>填入Workers代码</h2><p>点击快速编辑，并填入Workers代码<br><img src="/2023/01/10/15-32-14/4.png"><br>Workers代码如下，如果<a href="https://github.com/alist-org/alist-proxy/blob/main/alist-proxy.js">GitHub上</a>有新版本更新，请使用最新的版本部署。<br>    “YOUR_ADDRESS”引号里面改成你自己的AlistV3地址，必须添加协议头且最后面不能加&#x2F;。如：<a href="https://wwl.pan-redcution.one/">https://wwl.pan-redcution.one</a><br>    “YOUR_TOKEN”冒号里面填写AlistV3里面提供的令牌<br>代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// src/const.ts</span><br><span class="line">var ADDRESS = &quot;YOUR_ADDRESS&quot;;</span><br><span class="line">var TOKEN = &quot;YOUR_TOKEN&quot;;</span><br><span class="line"></span><br><span class="line">// src/verify.ts</span><br><span class="line">var verify = async (data, _sign) =&gt; &#123;</span><br><span class="line">  const signSlice = _sign.split(&quot;:&quot;);</span><br><span class="line">  if (!signSlice[signSlice.length - 1]) &#123;</span><br><span class="line">    return &quot;expire missing&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  const expire = parseInt(signSlice[signSlice.length - 1]);</span><br><span class="line">  if (isNaN(expire)) &#123;</span><br><span class="line">    return &quot;expire invalid&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  if (expire &lt; Date.now() / 1e3 &amp;&amp; expire &gt; 0) &#123;</span><br><span class="line">    return &quot;expire expired&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  const right = await hmacSha256Sign(data, expire);</span><br><span class="line">  if (_sign !== right) &#123;</span><br><span class="line">    return &quot;sign mismatch&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  return &quot;&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">var hmacSha256Sign = async (data, expire) =&gt; &#123;</span><br><span class="line">  const key = await crypto.subtle.importKey(</span><br><span class="line">    &quot;raw&quot;,</span><br><span class="line">    new TextEncoder().encode(TOKEN),</span><br><span class="line">    &#123; name: &quot;HMAC&quot;, hash: &quot;SHA-256&quot; &#125;,</span><br><span class="line">    false,</span><br><span class="line">    [&quot;sign&quot;, &quot;verify&quot;]</span><br><span class="line">  );</span><br><span class="line">  const buf = await crypto.subtle.sign(</span><br><span class="line">    &#123;</span><br><span class="line">      name: &quot;HMAC&quot;,</span><br><span class="line">      hash: &quot;SHA-256&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    key,</span><br><span class="line">    new TextEncoder().encode(`$&#123;data&#125;:$&#123;expire&#125;`)</span><br><span class="line">  );</span><br><span class="line">  return btoa(String.fromCharCode(...new Uint8Array(buf))).replace(/\+/g, &quot;-&quot;).replace(/\//g, &quot;_&quot;) + &quot;:&quot; + expire;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// src/handleDownload.ts</span><br><span class="line">async function handleDownload(request) &#123;</span><br><span class="line">  const origin = request.headers.get(&quot;origin&quot;) ?? &quot;*&quot;;</span><br><span class="line">  const url = new URL(request.url);</span><br><span class="line">  const path = decodeURIComponent(url.pathname);</span><br><span class="line">  const sign = url.searchParams.get(&quot;sign&quot;) ?? &quot;&quot;;</span><br><span class="line">  const verifyResult = await verify(path, sign);</span><br><span class="line">  if (verifyResult !== &quot;&quot;) &#123;</span><br><span class="line">    const resp2 = new Response(</span><br><span class="line">      JSON.stringify(&#123;</span><br><span class="line">        code: 401,</span><br><span class="line">        message: verifyResult</span><br><span class="line">      &#125;),</span><br><span class="line">      &#123;</span><br><span class="line">        headers: &#123;</span><br><span class="line">          &quot;content-type&quot;: &quot;application/json;charset=UTF-8&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">    resp2.headers.set(&quot;Access-Control-Allow-Origin&quot;, origin);</span><br><span class="line">    return resp2;</span><br><span class="line">  &#125;</span><br><span class="line">  let resp = await fetch(`$&#123;ADDRESS&#125;/api/fs/link`, &#123;</span><br><span class="line">    method: &quot;POST&quot;,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &quot;content-type&quot;: &quot;application/json;charset=UTF-8&quot;,</span><br><span class="line">      Authorization: TOKEN</span><br><span class="line">    &#125;,</span><br><span class="line">    body: JSON.stringify(&#123;</span><br><span class="line">      path</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">  let res = await resp.json();</span><br><span class="line">  if (res.code !== 200) &#123;</span><br><span class="line">    return new Response(JSON.stringify(res));</span><br><span class="line">  &#125;</span><br><span class="line">  request = new Request(res.data.url, request);</span><br><span class="line">  if (res.data.header) &#123;</span><br><span class="line">    for (const k in res.data.header) &#123;</span><br><span class="line">      for (const v of res.data.header[k]) &#123;</span><br><span class="line">        request.headers.set(k, v);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  let response = await fetch(request);</span><br><span class="line">  response = new Response(response.body, response);</span><br><span class="line">  response.headers.delete(&quot;set-cookie&quot;);</span><br><span class="line">  response.headers.set(&quot;Access-Control-Allow-Origin&quot;, origin);</span><br><span class="line">  response.headers.append(&quot;Vary&quot;, &quot;Origin&quot;);</span><br><span class="line">  return response;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// src/handleOptions.ts</span><br><span class="line">function handleOptions(request) &#123;</span><br><span class="line">  const corsHeaders = &#123;</span><br><span class="line">    &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,</span><br><span class="line">    &quot;Access-Control-Allow-Methods&quot;: &quot;GET,HEAD,POST,OPTIONS&quot;,</span><br><span class="line">    &quot;Access-Control-Max-Age&quot;: &quot;86400&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  let headers = request.headers;</span><br><span class="line">  if (headers.get(&quot;Origin&quot;) !== null &amp;&amp; headers.get(&quot;Access-Control-Request-Method&quot;) !== null) &#123;</span><br><span class="line">    let respHeaders = &#123;</span><br><span class="line">      ...corsHeaders,</span><br><span class="line">      &quot;Access-Control-Allow-Headers&quot;: request.headers.get(&quot;Access-Control-Request-Headers&quot;) || &quot;&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">    return new Response(null, &#123;</span><br><span class="line">      headers: respHeaders</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return new Response(null, &#123;</span><br><span class="line">      headers: &#123;</span><br><span class="line">        Allow: &quot;GET, HEAD, POST, OPTIONS&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// src/index.ts</span><br><span class="line">var src_default = &#123;</span><br><span class="line">  async fetch(request, env, ctx) &#123;</span><br><span class="line">    if (request.method === &quot;OPTIONS&quot;) &#123;</span><br><span class="line">      return handleOptions(request);</span><br><span class="line">    &#125;</span><br><span class="line">    return handleDownload(request);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">export &#123;</span><br><span class="line">  src_default as default</span><br><span class="line">&#125;;</span><br><span class="line">//# sourceMappingURL=index.js.map</span><br></pre></td></tr></table></figure>
<h2 id="添加自定义域"><a href="#添加自定义域" class="headerlink" title="添加自定义域"></a>添加自定义域</h2><p>由于Cloudflare所提供的域名可能被ban，建议使用自定义域，但是大多数教程所提供的手动添加自定义域的方式在2022-11月时已经失效，只能在主面板中的Workers里面添加。同时也要注意，添加自定义域名的时候不要使用任何代理，因为Cloudflare已经于去年11月不再允许CNAME解析也不再允许Workers用户手动指定IP，而是Cloudflare自动指派所在地区最佳IP，网上很多教程写过的优选IP教程受到规则影响已经无法使用。<br><img src="/2023/01/10/15-32-14/5.png"><br>等待DNS解析成功后进行下一步<br><img src="/2023/01/10/15-32-14/6.png"><br><img src="/2023/01/10/15-32-14/7.png">   </p>
<h2 id="添加路由"><a href="#添加路由" class="headerlink" title="添加路由"></a>添加路由</h2><p>点击同页面下面的添加路由按钮，输入刚刚的自定义域名并加上&#x2F;*<br><img src="/2023/01/10/15-32-14/8.png"><br><img src="/2023/01/10/15-32-14/9.png"></p>
<h2 id="设置AlistV3"><a href="#设置AlistV3" class="headerlink" title="设置AlistV3"></a>设置AlistV3</h2><p>在AlistV3的储存选项里，选择一个OneDrive储存器，在“下载代理URL”里填入刚刚的自定义域并开启“Web代理”选项，然后点击保存即可<br><img src="/2023/01/10/15-32-14/10.png"><br>接下来下载文件，就应该通过Workers路由了~</p>
<h1 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h1><p>1.下载代理中转只会在你挂载的路径下生效；<br>2.这种方法理论上可以适用于其他网盘，但也许没必要，用在其他网盘上也有可能有被封号的风险；<br>3.体验进入<a href="https://wwl.pan-reduction.one/">网盘</a>下载文件即可</p>
]]></content>
      <categories>
        <category>教程</category>
        <category>Alist</category>
        <category>Cloudflare</category>
      </categories>
  </entry>
  <entry>
    <title>第三方Recovery及刷入方法</title>
    <url>/2023/01/09/20-13-38/</url>
    <content><![CDATA[<h1 id="有关于Recovery的个人认识"><a href="#有关于Recovery的个人认识" class="headerlink" title="有关于Recovery的个人认识"></a>有关于Recovery的个人认识</h1><p>经常刷机的友友们都知道，类原生的刷机包中一般都有recovery.img文件，这个就是Recovery，在老的机型里是存在Recovery分区的 ，到了出场安卓11以上机型之后，Recovery分区被去除，加入了A&#x2F;B动态分区模式，支持无缝升级，但是在小米8gen1以上的机型中又加回了Recovery分区。接下来我拿小米说开去（毕竟我只买得起小米这种Soc优秀又能搞机的手机）。</p>
<h2 id="小米的官方Recovery"><a href="#小米的官方Recovery" class="headerlink" title="小米的官方Recovery"></a>小米的官方Recovery</h2><p>小米的官方Recovery基本上是残废的，只能清除用户数据和通过电脑连接到小米助手（说句实话，连接小米助手这功能在某些设备上貌似也用不成）。<br><img src="/2023/01/09/20-13-38/1.png"> </p>
<h2 id="类原生的官方Recovery"><a href="#类原生的官方Recovery" class="headerlink" title="类原生的官方Recovery"></a>类原生的官方Recovery</h2><p>类原生的官方Recovery的功能比小米的多一点，对应的可以实现工厂级格式化格式化（Factory reset）、adb sideload升级系统（Apply update）、高级（Advanced）等等功能。（通过Recovey升级系统请参考另外一篇文章）<br><img src="/2023/01/09/20-13-38/2.jpg"><br><img src="/2023/01/09/20-13-38/3.jpg">  </p>
<h2 id="第三方Recovery"><a href="#第三方Recovery" class="headerlink" title="第三方Recovery"></a>第三方Recovery</h2><p>第三方Recovery的功能很多，基本上可以满足刷机玩机的全部需求，更像一个小型的系统，直接对相应分区进行修改。<br><img src="/2023/01/09/20-13-38/4.jpg"></p>
<h1 id="获取Recovery的途径"><a href="#获取Recovery的途径" class="headerlink" title="获取Recovery的途径"></a>获取Recovery的途径</h1><h2 id="官方的Recovery"><a href="#官方的Recovery" class="headerlink" title="官方的Recovery"></a>官方的Recovery</h2><p>官方的Recovery基本上可以在对应的官方网站上下载，例如下面的LineageOS的下载界面，可以看到有Recovery字样的文件<br><img src="/2023/01/09/20-13-38/5.png"></p>
<h2 id="第三方Recovery-1"><a href="#第三方Recovery-1" class="headerlink" title="第三方Recovery"></a>第三方Recovery</h2><p>第三方Recovery主流的有Twrp和Ofox橙狐</p>
<h3 id="Twrp"><a href="#Twrp" class="headerlink" title="Twrp"></a>Twrp</h3><p><img src="/2023/01/09/20-13-38/Twrp.jpg"><br>官方网址：<a href="https://twrp.me/">点击访问</a><br>可以选择自己对应的设备下载使用~</p>
<p>Twrp现在的主要维护者是skkk（酷安@mi_block）大佬，可以前往这位大佬的123云盘下载：<br>123网盘链接：<a href="https://www.123pan.com/s/qHhDVv-nuQJv">https://www.123pan.com/s/qHhDVv-nuQJv</a><br>一键刷入工具：<a href="https://wwl.pan-reduction.one/d/OneDrive/%E7%8E%A9%E6%9C%BA%E8%B5%84%E6%BA%90/Recovery/%E4%B8%80%E9%94%AE%E5%88%B7%E5%85%A5%E5%B7%A5%E5%85%B7/SKKK%20TWRP%E4%B8%80%E9%94%AE%E5%88%B7%E5%85%A5V4.0.zip?sign=KuBGSya7vPZoVBnqXhf6UGZV7EdYZ5k5kidQ7yDL5J0=:0">点击下载</a></p>
<p>历史维护者是wzsx150大佬，可以前往这位大佬的共享云盘下载：<br>链接： <a href="https://pan.hchl.top/s/oe4T4?path=/">https://pan.hchl.top/s/oe4T4?path=%2F</a><br>密码：wzsx150    </p>
<p>搬运站点下载：<a href="https://wwl.pan-reduction.one/OneDrive/%E7%8E%A9%E6%9C%BA%E8%B5%84%E6%BA%90/Recovery">点击访问</a></p>
<h3 id="Ofox橙狐"><a href="#Ofox橙狐" class="headerlink" title="Ofox橙狐"></a>Ofox橙狐</h3><p>官网链接：<a href="https://xiaomitools.com/orangefox-recovery-cn/">点击访问</a><br>官方下载链接：<a href="https://orangefox.download/">点击访问</a><br><img src="/2023/01/09/20-13-38/Ofox.png"><br>橙狐的界面很美观，而且有很多自定义设置项，比较贴近MIUI的审美风格  </p>
<h1 id="Recovery的刷入方式"><a href="#Recovery的刷入方式" class="headerlink" title="Recovery的刷入方式"></a>Recovery的刷入方式</h1><p>介于大部分Recovery的刷入方式不太一样，这里只介绍两种最稳妥的刷入方式，使用的是第三方Recovery Twrp  </p>
<h2 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h2><p>1.首先<a href="https://developer.android.google.cn/studio/releases/platform-tools?hl=zh-cn">点击下载</a>适合你当前平台的ADB工具，通过按住 电源键 + 音量下 进入Fastboot引导模式。然后，使用 USB 连接到你的电脑，运行 cmd 或者 bash 并执行命令以下所有命令（不推荐使用Windows Powershell）<br>2.清楚自己设备的分区类型，如图，图上说的很清楚我不过多赘述~<br><img src="/2023/01/09/20-13-38/fq.jpg"></p>
<h2 id="Only-A设备刷入方式"><a href="#Only-A设备刷入方式" class="headerlink" title="Only A设备刷入方式"></a>Only A设备刷入方式</h2><p>演示设备：小米6    </p>
<ol>
<li>在文件管理器里输入<code>cmd</code>启动命令行窗口<br><img src="/2023/01/09/20-13-38/cmd.png">  </li>
<li>检测设备连接情况<br>在cmd中键入命令  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure>
亦或是<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb devices -l</span><br></pre></td></tr></table></figure>
返回提示已连接即可<br><img src="/2023/01/09/20-13-38/jc.png">   </li>
<li>刷入Recovery<br>在cmd中键入命令，其中xxx.img是你Recovery文件的路径，可以直接拖入cmd窗口<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fastboot flash recovery xxx.img</span><br></pre></td></tr></table></figure>
<img src="/2023/01/09/20-13-38/flash.png"><br><img src="/2023/01/09/20-13-38/flash2.png"></li>
<li>重启到Recovery<br>在cmd中键入命令<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fastboot reboot recovery</span><br></pre></td></tr></table></figure>
<img src="/2023/01/09/20-13-38/cq.png">   </li>
<li>完成！</li>
</ol>
<h2 id="VAB设备刷入方式"><a href="#VAB设备刷入方式" class="headerlink" title="VAB设备刷入方式"></a>VAB设备刷入方式</h2><p>演示设备：Redmi K40</p>
<ol>
<li>在文件管理器里输入<code>cmd</code>启动命令行窗口<br><img src="/2023/01/09/20-13-38/cmd.png">  </li>
<li>检测设备连接情况<br>在cmd中键入命令  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure>
亦或是   <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb devices -l</span><br></pre></td></tr></table></figure>
返回提示已连接即可<br><img src="/2023/01/09/20-13-38/jc.png">    </li>
<li>刷入Recovery<br>在cmd中键入命令，其中xxx.img是你Recovery文件的路径，可以直接拖入cmd窗口<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fastboot boot xxx.img</span><br></pre></td></tr></table></figure>
<img src="/2023/01/09/20-13-38/boot.png"><br><img src="/2023/01/09/20-13-38/boot2.png"> </li>
<li>重启到Recovery<br>理论上会自动重启到Recovery，因为上一步的命令是boot（启动的意思），如果没有重启到Recovery，请手动。  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fastboot reboot recovery</span><br></pre></td></tr></table></figure>
<img src="/2023/01/09/20-13-38/cq.png">   </li>
<li>固化Recovery<br>在Twrp高级里面选择刷入当前Twrp选项，然后重启Recovery<br><img src="/2023/01/09/20-13-38/gh.png"><br><img src="/2023/01/09/20-13-38/gh2.png"></li>
<li>完成！</li>
</ol>
<h2 id="通过搞机助手刷入Recovery"><a href="#通过搞机助手刷入Recovery" class="headerlink" title="通过搞机助手刷入Recovery"></a>通过搞机助手刷入Recovery</h2><p>首先你需要在<a href="https://lsdy.top/">官网下载</a>搞机助手这个软件,该过程较为简单</p>
<ol>
<li>将手机重启到引导模式<br><img src="/2023/01/09/20-13-38/f.png">  </li>
<li>在侧边栏“引导模式”中选择“刷入REC”选项  </li>
<li>选择Recovery文件<br><img src="/2023/01/09/20-13-38/x.png">  </li>
<li>如果你是Only A分区结构的设备请选择“刷入”选项；如果你是VAB分区结构的设备请选择“临时刷入（A&#x2F;B分区设备）”选项，随后按上面的步骤固化Recovery。<br><img src="/2023/01/09/20-13-38/s.png">  </li>
<li>完成！</li>
</ol>
<h1 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h1><ol>
<li>建议学习命令行形式的刷入，因为软件里的adb文件随时可能过期而无法适应新的内容，而谷歌官方的adb文件始终是可以的，学习的过程对自己来说也是一种提升~     </li>
<li>如果你使用的是skkk的Recovery，一定要仔细阅读skkk提供的说明，核对好文件最前面的名称之后，再选择刷入的方式，切忌不能直接将任何Recovery直接刷入boot分区！！！<br><img src="/2023/01/09/20-13-38/skkk.jpg">      </li>
<li>任何Recovery的名称后缀一定是.img，如果你下载下来是.zip，请解压后使用   </li>
<li>Recovery需要与安卓版本对应才能成功解密（解密的密码一般是自己的锁屏密码），有些A12的Recovery也可用于A13，但是如果能找到A13的Recovery，就请使用A13的Recovery</li>
</ol>
]]></content>
      <categories>
        <category>玩机</category>
        <category>Recovery</category>
      </categories>
  </entry>
  <entry>
    <title>小米设备代号表</title>
    <url>/2023/01/07/13-00-12/</url>
    <content><![CDATA[<p><img src="/2023/01/07/13-00-12/1.jpg" alt="按Ctrl+F以快速搜索"> </p>
<h1 id="为什么需要知道手机的设备代号"><a href="#为什么需要知道手机的设备代号" class="headerlink" title="为什么需要知道手机的设备代号"></a>为什么需要知道手机的设备代号</h1><p>每一个设备都对应这一个设备代号，设备的设备代号是识别该设备的唯一标准，而不是名字，由于小米不仅仅在中国发布产品，一个设备往往在国内外对应了多个设备名字，例如：Redmi K50 Ultra和Redmi 12T Pro，这就会让人误以为是两种设备。如果你经常刷机，也会发现国外的作者在命名ROM包名的时候也会写设备代号，而不是其他的，所以知道自己手机的设备代号是必要的。</p>
<h1 id="小米设备代号获取的几种方式"><a href="#小米设备代号获取的几种方式" class="headerlink" title="小米设备代号获取的几种方式"></a>小米设备代号获取的几种方式</h1><h2 id="在开机状态下查看"><a href="#在开机状态下查看" class="headerlink" title="在开机状态下查看"></a>在开机状态下查看</h2><p>在 设置 -&gt; 关于手机 -&gt; 软件版本 查看 </p>
<h2 id="通过ADB命令查看（不推荐使用Windows-PowerShell）"><a href="#通过ADB命令查看（不推荐使用Windows-PowerShell）" class="headerlink" title="通过ADB命令查看（不推荐使用Windows PowerShell）"></a>通过ADB命令查看（不推荐使用Windows PowerShell）</h2><p>首先<a href="https://developer.android.google.cn/studio/releases/platform-tools?hl=zh-cn">点击下载</a>适合你当前平台的ADB工具，通过按住 电源键 + 音量下 进入Fastboot引导模式。然后，使用 USB 连接到你的电脑，运行 cmd 或者 bash 并执行命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fastboot getvar product</span><br></pre></td></tr></table></figure>

<h1 id="小米设备代号（按Ctrl-F以快速搜索）"><a href="#小米设备代号（按Ctrl-F以快速搜索）" class="headerlink" title="小米设备代号（按Ctrl+F以快速搜索）"></a>小米设备代号（按Ctrl+F以快速搜索）</h1><table>
<thead>
<tr>
<th>设备名称</th>
<th>设备代号</th>
</tr>
</thead>
<tbody><tr>
<td>红米12C</td>
<td>earth</td>
</tr>
<tr>
<td>红米Note12 Pro 极速版</td>
<td>redwood</td>
</tr>
<tr>
<td>红米K60E</td>
<td>rembrandt</td>
</tr>
<tr>
<td>红米K60 Pro</td>
<td>socrates</td>
</tr>
<tr>
<td>红米K60</td>
<td>mondrian</td>
</tr>
<tr>
<td>小米13 Pro</td>
<td>nuwa</td>
</tr>
<tr>
<td>小米13</td>
<td>fuxi</td>
</tr>
<tr>
<td>红米Note12</td>
<td>sunstone</td>
</tr>
<tr>
<td>红米Note12 Pro</td>
<td>ruby</td>
</tr>
<tr>
<td>小米12T</td>
<td>plato</td>
</tr>
<tr>
<td>红米平板</td>
<td>yunluo</td>
</tr>
<tr>
<td>小米CIVI 2</td>
<td>ziyi</td>
</tr>
<tr>
<td>POCO C50 &#x2F; 红米A1</td>
<td>ice</td>
</tr>
<tr>
<td>POCO M5S</td>
<td>rosemary_p</td>
</tr>
<tr>
<td>POCO M5 &#x2F; 红米11 Prime 4G</td>
<td>rock</td>
</tr>
<tr>
<td>小米平板5 Pro 12.4</td>
<td>dagu</td>
</tr>
<tr>
<td>红米K50 至尊版 &#x2F; 小米12T Pro</td>
<td>diting</td>
</tr>
<tr>
<td>小米MIX Fold 2</td>
<td>zizhan</td>
</tr>
<tr>
<td>小米12S</td>
<td>mayfly</td>
</tr>
<tr>
<td>小米12S Ultra</td>
<td>thor</td>
</tr>
<tr>
<td>小米12S Pro</td>
<td>unicorn</td>
</tr>
<tr>
<td>小米12 Pro 天玑版</td>
<td>daumier</td>
</tr>
<tr>
<td>小米12 Lite</td>
<td>taoyao</td>
</tr>
<tr>
<td>POCO C40</td>
<td>frost</td>
</tr>
<tr>
<td>红米Note11T Pro &#x2F; Pro+ &#x2F; POCO X4 GT &#x2F; Pro &#x2F; 红米K50i &#x2F; Pro</td>
<td>xaga</td>
</tr>
<tr>
<td>小米CIVI 1S</td>
<td>zijin</td>
</tr>
<tr>
<td>红米Note 10T</td>
<td>lilac</td>
</tr>
<tr>
<td>红米10A</td>
<td>dandelion</td>
</tr>
<tr>
<td>红米10C</td>
<td>fog</td>
</tr>
<tr>
<td>红米K50</td>
<td>rubens</td>
</tr>
<tr>
<td>红米K50 Pro</td>
<td>matisse</td>
</tr>
<tr>
<td>红米K40S &#x2F; POCO F4</td>
<td>munch</td>
</tr>
<tr>
<td>红米Note11 Pro</td>
<td>viva</td>
</tr>
<tr>
<td>红米Note11E &#x2F; 红米Note11R &#x2F; POCO M4 5G &#x2F; 红米10 Prime+ 5G</td>
<td>light</td>
</tr>
<tr>
<td>红米K50 电竞版 &#x2F; POCO F4 GT</td>
<td>ingres</td>
</tr>
<tr>
<td>红米Note11 NFC</td>
<td>spesn</td>
</tr>
<tr>
<td>红米Note11</td>
<td>spes</td>
</tr>
<tr>
<td>红米Note11E Pro &#x2F; 红米Note11 Pro 5G</td>
<td>veux</td>
</tr>
<tr>
<td>红米Note11S &#x2F; POCO M4 Pro 4G</td>
<td>fleur</td>
</tr>
<tr>
<td>小米12 Pro</td>
<td>zeus</td>
</tr>
<tr>
<td>小米12X</td>
<td>psyche</td>
</tr>
<tr>
<td>小米12</td>
<td>cupid</td>
</tr>
<tr>
<td>POCO M4 Pro 5G</td>
<td>evergreen</td>
</tr>
<tr>
<td>红米Note11 Pro &#x2F; Pro+</td>
<td>pissarro</td>
</tr>
<tr>
<td>红米Note11 5G</td>
<td>evergo</td>
</tr>
<tr>
<td>红米Note11 4G</td>
<td>selenes</td>
</tr>
<tr>
<td>小米CIVI</td>
<td>mona</td>
</tr>
<tr>
<td>小米11青春活力版</td>
<td>lisa</td>
</tr>
<tr>
<td>小米11T</td>
<td>agate</td>
</tr>
<tr>
<td>小米11T Pro</td>
<td>vili</td>
</tr>
<tr>
<td>红米10</td>
<td>selene</td>
</tr>
<tr>
<td>小米MIX4</td>
<td>odin</td>
</tr>
<tr>
<td>小米平板5 Pro (WiFi)</td>
<td>elish</td>
</tr>
<tr>
<td>小米平板5 Pro (5G)</td>
<td>enuma</td>
</tr>
<tr>
<td>小米平板5</td>
<td>nabu</td>
</tr>
<tr>
<td>红米Note 10 Pro (China) &#x2F; POCO X3 GT</td>
<td>chopin</td>
</tr>
<tr>
<td>红米Note 10 (China) &#x2F; POCO M3 Pro &#x2F; 红米Note 11 SE</td>
<td>camellia</td>
</tr>
<tr>
<td>红米Note 8 (21年款)</td>
<td>biloba</td>
</tr>
<tr>
<td>红米K40 游戏增强版 &#x2F; POCO F3 GT</td>
<td>ares</td>
</tr>
<tr>
<td>小米MIX Fold</td>
<td>cetus</td>
</tr>
<tr>
<td>小米11 青春版</td>
<td>renoir</td>
</tr>
<tr>
<td>小米11 Pro &#x2F; Ultra</td>
<td>star</td>
</tr>
<tr>
<td>小米11 Lite</td>
<td>courbet</td>
</tr>
<tr>
<td>POCO X3 Pro</td>
<td>vayu</td>
</tr>
<tr>
<td>小米10S</td>
<td>thyme</td>
</tr>
<tr>
<td>红米Note 10 Pro</td>
<td>sweet</td>
</tr>
<tr>
<td>红米Note 10 5G</td>
<td>camellian</td>
</tr>
<tr>
<td>红米Note 10S</td>
<td>rosemary</td>
</tr>
<tr>
<td>红米Note 10</td>
<td>mojito</td>
</tr>
<tr>
<td>红米K40 Pro &#x2F; Pro+ &#x2F; 小米11i &#x2F; 小米11X Pro</td>
<td>haydn</td>
</tr>
<tr>
<td>红米K40 &#x2F; POCO F3</td>
<td>alioth</td>
</tr>
<tr>
<td>小米11</td>
<td>venus</td>
</tr>
<tr>
<td>红米Note 9T 5G</td>
<td>cannong</td>
</tr>
<tr>
<td>红米Note 9 Pro 5G &#x2F; 小米10T Lite</td>
<td>gauguin</td>
</tr>
<tr>
<td>红米Note 9 5G</td>
<td>cannon</td>
</tr>
<tr>
<td>红米Note 9 4G &#x2F; 红米9T</td>
<td>lime</td>
</tr>
<tr>
<td>POCO M3</td>
<td>citrus</td>
</tr>
<tr>
<td>红米K30S 至尊纪念版 &#x2F; 小米10T &#x2F; 10T Pro</td>
<td>apollo</td>
</tr>
<tr>
<td>POCO C3</td>
<td>angelicain</td>
</tr>
<tr>
<td>POCO M2</td>
<td>shiva</td>
</tr>
<tr>
<td>POCO X3 NFC</td>
<td>surya</td>
</tr>
<tr>
<td>红米9C NFC</td>
<td>angelican</td>
</tr>
<tr>
<td>红米9 (India)</td>
<td>cattail</td>
</tr>
<tr>
<td>小米10 至尊纪念版</td>
<td>cas</td>
</tr>
<tr>
<td>红米K30 至尊纪念版</td>
<td>cezanne</td>
</tr>
<tr>
<td>POCO M2 Pro</td>
<td>gram</td>
</tr>
<tr>
<td>红米9A &#x2F; 9AT</td>
<td>dandelion</td>
</tr>
<tr>
<td>红米9C</td>
<td>angelica</td>
</tr>
<tr>
<td>红米9</td>
<td>lancelot</td>
</tr>
<tr>
<td>小米Note10 Lite</td>
<td>toco</td>
</tr>
<tr>
<td>红米10X Pro</td>
<td>bomb</td>
</tr>
<tr>
<td>红米10X 5G</td>
<td>atom</td>
</tr>
<tr>
<td>红米K30i 5G</td>
<td>picasso_48m</td>
</tr>
<tr>
<td>红米10X 4G &#x2F; 红米Note 9</td>
<td>merlin</td>
</tr>
<tr>
<td>小米10 青春版</td>
<td>vangogh</td>
</tr>
<tr>
<td>小米10 Lite</td>
<td>monet</td>
</tr>
<tr>
<td>红米K30 Pro &#x2F; 变焦版 &#x2F; POCO F2 Pro</td>
<td>lmi</td>
</tr>
<tr>
<td>红米Note 9 Pro Max</td>
<td>excalibur</td>
</tr>
<tr>
<td>红米Note 9S &#x2F; Pro (India)</td>
<td>curtana</td>
</tr>
<tr>
<td>红米Note9 Pro</td>
<td>joyeuse</td>
</tr>
<tr>
<td>小米10 Pro</td>
<td>cmi</td>
</tr>
<tr>
<td>小米10</td>
<td>umi</td>
</tr>
<tr>
<td>红米8A Pro &#x2F; 红米8A Dual</td>
<td>olivewood</td>
</tr>
<tr>
<td>POCO X2 印度版</td>
<td>phoenixin</td>
</tr>
<tr>
<td>红米K30 5G</td>
<td>picasso</td>
</tr>
<tr>
<td>红米K30 4G &#x2F; POCO X2</td>
<td>phoenix</td>
</tr>
<tr>
<td>红米Note 8T</td>
<td>willow</td>
</tr>
<tr>
<td>小米CC9 Pro &#x2F; 小米Note 10</td>
<td>tucana</td>
</tr>
<tr>
<td>红米Note 8 Pro 印度版</td>
<td>begoniain</td>
</tr>
<tr>
<td>红米8</td>
<td>olive</td>
</tr>
<tr>
<td>红米8A</td>
<td>olivelite</td>
</tr>
<tr>
<td>小米9 Pro 5G</td>
<td>crux</td>
</tr>
<tr>
<td>红米K20 Pro 尊享版</td>
<td>raphaels</td>
</tr>
<tr>
<td>红米Note 8 Pro</td>
<td>begonia</td>
</tr>
<tr>
<td>红米Note 8</td>
<td>ginkgo</td>
</tr>
<tr>
<td>小米A3</td>
<td>laurel</td>
</tr>
<tr>
<td>小米CC9e</td>
<td>laurus</td>
</tr>
<tr>
<td>小米CC9 &#x2F; 小米9 Lite</td>
<td>pyxis</td>
</tr>
<tr>
<td>小米CC9 美图定制版</td>
<td>vela</td>
</tr>
<tr>
<td>红米K20 &#x2F; 小米9T 印度版</td>
<td>davinciin</td>
</tr>
<tr>
<td>红米K20 &#x2F; 小米9T</td>
<td>davinci</td>
</tr>
<tr>
<td>红米K20 Pro &#x2F; 小米9T Pro</td>
<td>raphael</td>
</tr>
<tr>
<td>红米K20 Pro 印度版</td>
<td>raphaelin</td>
</tr>
<tr>
<td>红米7A</td>
<td>pine</td>
</tr>
<tr>
<td>红米Y3</td>
<td>onc</td>
</tr>
<tr>
<td>红米7</td>
<td>onclite</td>
</tr>
<tr>
<td>小米MIX 3 5G</td>
<td>andromeda</td>
</tr>
<tr>
<td>小米9</td>
<td>cepheus</td>
</tr>
<tr>
<td>小米9 SE</td>
<td>grus</td>
</tr>
<tr>
<td>红米Go</td>
<td>tiare</td>
</tr>
<tr>
<td>红米Note 7</td>
<td>lavender</td>
</tr>
<tr>
<td>红米Note 7 Pro</td>
<td>violet</td>
</tr>
<tr>
<td>小米Play</td>
<td>lotus</td>
</tr>
<tr>
<td>红米Note 6 Pro</td>
<td>tulip</td>
</tr>
<tr>
<td>小米MIX 3</td>
<td>perseus</td>
</tr>
<tr>
<td>小米8 Lite</td>
<td>platina</td>
</tr>
<tr>
<td>红米6 Pro</td>
<td>sakura</td>
</tr>
<tr>
<td>POCO F1</td>
<td>beryllium</td>
</tr>
<tr>
<td>小米平板4&#x2F;Plus</td>
<td>clover</td>
</tr>
<tr>
<td>小米A2 Lite</td>
<td>daisy</td>
</tr>
<tr>
<td>小米A2</td>
<td>jasmine</td>
</tr>
<tr>
<td>小米Max 3</td>
<td>nitrogen</td>
</tr>
<tr>
<td>红米6A</td>
<td>cactus</td>
</tr>
<tr>
<td>红米6</td>
<td>cereus</td>
</tr>
<tr>
<td>小米8</td>
<td>dipper</td>
</tr>
<tr>
<td>小米8 Pro 屏幕指纹版</td>
<td>equuleus</td>
</tr>
<tr>
<td>小米8 SE</td>
<td>sirius</td>
</tr>
<tr>
<td>小米8 透明探索版</td>
<td>ursa</td>
</tr>
<tr>
<td>红米S2 &#x2F; 红米Y2</td>
<td>ysl</td>
</tr>
<tr>
<td>小米6X</td>
<td>wayne</td>
</tr>
<tr>
<td>小米MIX 2S</td>
<td>polaris</td>
</tr>
<tr>
<td>红米Note 5 &#x2F; Pro</td>
<td>whyred</td>
</tr>
<tr>
<td>红米5</td>
<td>rosy</td>
</tr>
<tr>
<td>红米5 Plus</td>
<td>vince</td>
</tr>
<tr>
<td>红米5A</td>
<td>riva</td>
</tr>
<tr>
<td>小米MIX 2</td>
<td>chiron</td>
</tr>
<tr>
<td>小米Note 3</td>
<td>jason</td>
</tr>
<tr>
<td>小米A1</td>
<td>tissot</td>
</tr>
<tr>
<td>红米Note 5A 高配版</td>
<td>ugg</td>
</tr>
<tr>
<td>红米Note 5A 标准版</td>
<td>ugglite</td>
</tr>
<tr>
<td>小米5X</td>
<td>tiffany</td>
</tr>
<tr>
<td>小米Max 2</td>
<td>oxygen</td>
</tr>
<tr>
<td>小米6</td>
<td>sagit</td>
</tr>
<tr>
<td>小米平板3</td>
<td>cappu</td>
</tr>
<tr>
<td>小米5C</td>
<td>meri</td>
</tr>
<tr>
<td>红米4X</td>
<td>santoni</td>
</tr>
<tr>
<td>红米Note 4X 高通版</td>
<td>mido</td>
</tr>
<tr>
<td>红米Note 4 联发科版</td>
<td>nikel</td>
</tr>
<tr>
<td>红米4 高配版</td>
<td>markw</td>
</tr>
<tr>
<td>红米4 标准版</td>
<td>prada</td>
</tr>
<tr>
<td>红米4A</td>
<td>rolex</td>
</tr>
<tr>
<td>小米MIX</td>
<td>lithium</td>
</tr>
<tr>
<td>小米Note 2</td>
<td>scorpio</td>
</tr>
<tr>
<td>小米5S</td>
<td>capricorn</td>
</tr>
<tr>
<td>小米5S Plus</td>
<td>natrium</td>
</tr>
<tr>
<td>红米Pro</td>
<td>omega</td>
</tr>
<tr>
<td>红米3S</td>
<td>land</td>
</tr>
<tr>
<td>小米Max 高配版</td>
<td>helium</td>
</tr>
<tr>
<td>小米Max 标准版</td>
<td>hydrogen</td>
</tr>
<tr>
<td>小米4S</td>
<td>aqua</td>
</tr>
<tr>
<td>小米5</td>
<td>gemini</td>
</tr>
<tr>
<td>红米3 &#x2F; Pro</td>
<td>ido</td>
</tr>
<tr>
<td>红米Note 3 台湾特别版</td>
<td>kate</td>
</tr>
<tr>
<td>红米Note 3 全网通版</td>
<td>kenzo</td>
</tr>
<tr>
<td>红米Note 3 双网通版</td>
<td>hennessy</td>
</tr>
<tr>
<td>小米平板2</td>
<td>latte</td>
</tr>
<tr>
<td>小米4C</td>
<td>libra</td>
</tr>
<tr>
<td>红米Note 2</td>
<td>hermes</td>
</tr>
<tr>
<td>小米4i</td>
<td>ferrari</td>
</tr>
<tr>
<td>红米2A 标准版</td>
<td>lte26007</td>
</tr>
<tr>
<td>小米Note 顶配版</td>
<td>leo</td>
</tr>
<tr>
<td>小米Note 双网通 &#x2F; 全网通</td>
<td>virgo</td>
</tr>
<tr>
<td>红米手机2 增强版</td>
<td>wt86047</td>
</tr>
<tr>
<td>红米手机2</td>
<td>wt88047</td>
</tr>
<tr>
<td>红米Note 4G单卡版</td>
<td>dior</td>
</tr>
<tr>
<td>红米Note 4G双卡版</td>
<td>gucci</td>
</tr>
<tr>
<td>小米3 &#x2F; 小米4</td>
<td>cancro</td>
</tr>
<tr>
<td>红米手机1S</td>
<td>armani</td>
</tr>
<tr>
<td>红米手机1S 移动3G版</td>
<td>HM2014011</td>
</tr>
<tr>
<td>红米手机1S 移动4G版</td>
<td>HM2014501</td>
</tr>
<tr>
<td>小米平板1</td>
<td>mocha</td>
</tr>
<tr>
<td>红米Note</td>
<td>lcsh92</td>
</tr>
<tr>
<td>小米2A</td>
<td>taurus</td>
</tr>
<tr>
<td>小米3 移动版</td>
<td>pisces</td>
</tr>
<tr>
<td>红米手机</td>
<td>HM2013023</td>
</tr>
<tr>
<td>小米2S</td>
<td>aries</td>
</tr>
<tr>
<td>小米1S</td>
<td>mione</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>玩机</category>
        <category>小米</category>
      </categories>
  </entry>
</search>
